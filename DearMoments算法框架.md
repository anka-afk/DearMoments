# 索引阶段

1. 怎么从输入中提取最相关元素, 三元组可行吗? 你的记忆索引是基于元组的吗? 恐怕不是
2. 怎么表征图结构, 我希望是多层图结构, 每一个节点可以为一个子图, 使用贪心搜索相当于每次搜索产生一个视图结构 (需要对图的层级进行惩罚, 避免深度过高)
3. 我希望建立一个记忆向量池, 使用重要记忆 (如何定义? 根据局部性原理, 与最近上下文高度相关的消息可以作为重要记忆, 或许可以在离线阶段对最近上下文进行预检索) embeddings 张成一个向量空间, 首先从记忆向量池中匹配最相关向量 (这部分不能很大, 不然时间复杂度会非常高), 稀疏检索 (或局部敏感哈希), 这个东西怎么和图关联起来呢?
4. 图的组成部分只有实体-联系吗? 有什么忽视的东西?
5. 尽量把检索阶段的复杂度整合到索引阶段, 因为这部分时间感知最
6. 需要建立哪些索引 (根据局部性原理, 我认为必须对时间索引)

- 过滤掉用户输入的虚构内容，以避免 LLM 产生幻觉。
- 系统中存储的记忆片段采用分层结构，通过汇总主题相似的  *observations*  生成高层次的  *insights*  信息。

# 搜索阶段

1. 搜索算法问题, 这部分和图结构高度相关
2. 如何 Rerank, 知识增强, 修建与合并
3. 搜索范式问题, 更倾向于多路径(同时从记忆池和图中检索)逐步搜索(每次搜索一层相邻节点), 设置时间上限, 避免无限等待
4. 搜索粒度问题, 搜索一个子图? 搜索具体节点? 这些暂时不得而知
5. 查询增强, 对于一个查询语句, 应当先结构化 (可以维护一个节点名列表传给 llm)

# 问题

1. 虽然有大致的信息提取 prompt 模板, 但是里面一些内容依然不是很明了, 例如 conversations 的构造(多少条消息作为一个 conversations?), 还有上下文应当需要考虑, 取多少合适呢?
